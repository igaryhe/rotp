name: rotp
version: "0.0.1"
author: Dan Ho <igaryhe@gmail.com>
about: Generating OTP code using command line
args:
  - hotp:
      help: generating code using HOTP
      long: hotp
      requires: counter
      
  - totp:
      help: generating code using TOTP
      long: totp
      requires:
        - period
        - algorithm
        
  - digits:
      help: Length for the OTP code, s for Steam Guard
      short: d
      long: digits
      takes_value: true
      default_value: "6"
      required: true
      possible_values:
        - "1"
        - "2"
        - "3"
        - "4"
        - "5"
        - "6"
        - "7"
        - "8"
        - "9"
        - "s"
  - counter:
      help: Counter for HOTP
      short: c
      long: counter
      #requires: hotp
      takes_value: true
      
  - period:
      help: Period for TOTP
      short: p
      long: period
      # requires: totp
      takes_value: true
      default_value: "30"
      
  - algorithm:
      help: Choose the HMAC algorithm
      short: a
      long: algorithm
      possible_values:
        - sha1
        - sha256
        - sha512
      # requires: totp
      takes_value: true
      default_value: sha1
      
  - secret:
      help: The base32 encoded secret
      required: true
groups:
  - mode:
      required: true
      args:
        - hotp
        - totp
